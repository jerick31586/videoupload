!function(a,t){var d={appModal:a("#appModal"),modalContent:a("#appModal .modal-content"),videoPlayer:document.querySelector("#vPlayer")};t.init=function(){o()};var o=function(){d.appModal.on("show.bs.modal",function(t){d.videoPlayer.pause();var o=a(t.relatedTarget),e=o.data("isapproved"),n=o.data("url"),l=o.data("postid"),p=d.appModal.find(".modal-body");d.appModal.find(".modal-title").text("Approval");var i=a("<p></p>");e?(i.html("Are you sure you want to approve this video?").addClass("text-center"),p.append(i)):(i.html("Are you sure you want to disapprove this video?").addClass("text-center"),p.append(i));var s=a("<div></div>").addClass("modal-footer");d.appModal.find(".modal-content").append(s);var r=a("<button></button>").attr({id:"btnApproved","data-postid":l,"data-value":e,"data-url":n}).text("OK").addClass("btn btn-default text-right"),u=a("<button></button>").attr("id","btnClose").text("Close").addClass("btn btn-default text-right");s.append(r).append(u)}),d.appModal.on("hidden.bs.modal",function(){var t=a(this);t.find(".modal-body").empty(),t.find(".modal-footer").remove();a("#appModal").modal("hide")}),d.modalContent.on("click","#btnApproved",function(){var t=a(this),o=t.data("url"),e=t.data("value"),n=t.data("postid"),l=window.location.href;d.appModal.find("#btnClose").addClass("hidden"),t.html("<span>Please wait..</span>").addClass("disabled"),a.ajax({type:"post",url:o,dataType:"json",data:{isapproved:e,postID:n,details:l},success:function(o){var e=a("<button></button>").attr("id","btnReload").addClass("btn btn-default text-right").text("Reload the page");d.appModal.find(".modal-footer").append(e);var n=d.appModal.find(".modal-body");n.empty();var l=a("<p></p>").addClass("text-center");t.addClass("hidden"),o.success,l.text(o.message),n.append(l)}})}),d.modalContent.on("click","#btnReload",function(){location.reload()})}}(jQuery,window.VideoDetailsWidget=window.VideoDetailsWidget||{}),VideoDetailsWidget.init();