CREATE TABLE [dbo].[Activities] (
    [ActivityID] [int] NOT NULL IDENTITY,
    [Type] [nvarchar](max),
    [Value] [nvarchar](max),
    [Description] [nvarchar](max),
    CONSTRAINT [PK_dbo.Activities] PRIMARY KEY ([ActivityID])
)
CREATE TABLE [dbo].[Attachments] (
    [PostAttachmentID] [nvarchar](128) NOT NULL,
    [FileName] [nvarchar](max),
    [MIMEType] [nvarchar](max),
    [FileSize] [int] NOT NULL,
    [FileUrl] [nvarchar](max),
    [PostID] [int],
    [AttachmentNo] [nvarchar](max),
    [DateCreated] [datetime],
    [ThumbnailFileName] [nvarchar](max),
    [ThumbnailUrl] [nvarchar](max),
    CONSTRAINT [PK_dbo.Attachments] PRIMARY KEY ([PostAttachmentID])
)
CREATE INDEX [IX_PostID] ON [dbo].[Attachments]([PostID])
CREATE TABLE [dbo].[Posts] (
    [PostID] [int] NOT NULL IDENTITY,
    [PlateNumber] [nvarchar](max) NOT NULL,
    [Description] [nvarchar](max) NOT NULL,
    [DateUploaded] [datetime] NOT NULL,
    [EditedBy] [nvarchar](max),
    [DateEdited] [datetime],
    [UserID] [nvarchar](128),
    [HasApproval] [bit] NOT NULL,
    [IsApproved] [bit] NOT NULL,
    [DateApproved] [datetime],
    [HasPlayedVideo] [bit] NOT NULL,
    [DatePlayedVideo] [datetime],
    [BranchID] [int] NOT NULL,
    CONSTRAINT [PK_dbo.Posts] PRIMARY KEY ([PostID])
)
CREATE INDEX [IX_UserID] ON [dbo].[Posts]([UserID])
CREATE INDEX [IX_BranchID] ON [dbo].[Posts]([BranchID])
CREATE TABLE [dbo].[Branches] (
    [BranchID] [int] NOT NULL IDENTITY,
    [BranchName] [nvarchar](max),
    CONSTRAINT [PK_dbo.Branches] PRIMARY KEY ([BranchID])
)
CREATE TABLE [dbo].[Jobcards] (
    [JobcardNo] [nvarchar](128) NOT NULL,
    [CustomerName] [nvarchar](max),
    [ChassisNo] [nvarchar](max),
    [PlateNo] [nvarchar](max),
    [Mileage] [nvarchar](max),
    [BranchID] [int] NOT NULL,
    CONSTRAINT [PK_dbo.Jobcards] PRIMARY KEY ([JobcardNo])
)
CREATE INDEX [IX_BranchID] ON [dbo].[Jobcards]([BranchID])
CREATE TABLE [dbo].[HealthCheckDetails] (
    [HealCheckDetailsID] [int] NOT NULL IDENTITY,
    [HcCode] [nvarchar](128) NOT NULL,
    [JobcardNo] [nvarchar](128) NOT NULL,
    [Status] [nvarchar](max),
    [Comments] [nvarchar](max),
    CONSTRAINT [PK_dbo.HealthCheckDetails] PRIMARY KEY ([HealCheckDetailsID])
)
CREATE INDEX [IX_HcCode] ON [dbo].[HealthCheckDetails]([HcCode])
CREATE INDEX [IX_JobcardNo] ON [dbo].[HealthCheckDetails]([JobcardNo])
CREATE TABLE [dbo].[HealthChecks] (
    [HcCode] [nvarchar](128) NOT NULL,
    [Description] [nvarchar](max),
    [HcGroup] [nvarchar](max),
    [Comments] [nvarchar](max),
    CONSTRAINT [PK_dbo.HealthChecks] PRIMARY KEY ([HcCode])
)
CREATE TABLE [dbo].[Users] (
    [UserID] [nvarchar](128) NOT NULL,
    [UserName] [nvarchar](max) NOT NULL,
    [FirstName] [nvarchar](max) NOT NULL,
    [LastName] [nvarchar](max) NOT NULL,
    [JobTitle] [nvarchar](max),
    [EmployeeNo] [nvarchar](max),
    [Email] [nvarchar](max) NOT NULL,
    [EmailConfirmed] [bit] NOT NULL,
    [IsActive] [bit] NOT NULL,
    [PasswordHash] [nvarchar](128),
    [SecurityStamp] [nvarchar](128),
    [EmailPass] [nvarchar](max) NOT NULL,
    [BranchID] [int] NOT NULL,
    CONSTRAINT [PK_dbo.Users] PRIMARY KEY ([UserID])
)
CREATE INDEX [IX_BranchID] ON [dbo].[Users]([BranchID])
CREATE TABLE [dbo].[UserClaims] (
    [ClaimID] [int] NOT NULL IDENTITY,
    [ClaimType] [nvarchar](max),
    [ClaimValue] [nvarchar](max),
    [UserID] [nvarchar](128),
    CONSTRAINT [PK_dbo.UserClaims] PRIMARY KEY ([ClaimID])
)
CREATE INDEX [IX_UserID] ON [dbo].[UserClaims]([UserID])
CREATE TABLE [dbo].[Customers] (
    [CustomerCode] [nvarchar](128) NOT NULL,
    [Title] [nvarchar](max),
    [FirstName] [nvarchar](max),
    [SecondName] [nvarchar](max),
    [ThirdName] [nvarchar](max),
    [LastName] [nvarchar](max),
    [Gender] [int] NOT NULL,
    [DateOfBirth] [datetime],
    [CompanyName] [nvarchar](max),
    [Position] [nvarchar](max),
    [Department] [nvarchar](max),
    [Email] [nvarchar](max),
    [Address] [nvarchar](max),
    [City] [nvarchar](max),
    [Region] [nvarchar](max),
    [PostalCode] [nvarchar](max),
    [Country] [nvarchar](max),
    [SendEmail] [bit] NOT NULL,
    CONSTRAINT [PK_dbo.Customers] PRIMARY KEY ([CustomerCode])
)
CREATE TABLE [dbo].[Histories] (
    [HistoryID] [int] NOT NULL IDENTITY,
    [Recipient] [nvarchar](max) NOT NULL,
    [DateSent] [datetime] NOT NULL,
    [Sender] [nvarchar](max),
    [Type] [nvarchar](max),
    CONSTRAINT [PK_dbo.Histories] PRIMARY KEY ([HistoryID])
)
ALTER TABLE [dbo].[Attachments] ADD CONSTRAINT [FK_dbo.Attachments_dbo.Posts_PostID] FOREIGN KEY ([PostID]) REFERENCES [dbo].[Posts] ([PostID])
ALTER TABLE [dbo].[Posts] ADD CONSTRAINT [FK_dbo.Posts_dbo.Branches_BranchID] FOREIGN KEY ([BranchID]) REFERENCES [dbo].[Branches] ([BranchID]) ON DELETE CASCADE
ALTER TABLE [dbo].[Posts] ADD CONSTRAINT [FK_dbo.Posts_dbo.Users_UserID] FOREIGN KEY ([UserID]) REFERENCES [dbo].[Users] ([UserID])
ALTER TABLE [dbo].[Jobcards] ADD CONSTRAINT [FK_dbo.Jobcards_dbo.Branches_BranchID] FOREIGN KEY ([BranchID]) REFERENCES [dbo].[Branches] ([BranchID]) ON DELETE CASCADE
ALTER TABLE [dbo].[HealthCheckDetails] ADD CONSTRAINT [FK_dbo.HealthCheckDetails_dbo.HealthChecks_HcCode] FOREIGN KEY ([HcCode]) REFERENCES [dbo].[HealthChecks] ([HcCode]) ON DELETE CASCADE
ALTER TABLE [dbo].[HealthCheckDetails] ADD CONSTRAINT [FK_dbo.HealthCheckDetails_dbo.Jobcards_JobcardNo] FOREIGN KEY ([JobcardNo]) REFERENCES [dbo].[Jobcards] ([JobcardNo]) ON DELETE CASCADE
ALTER TABLE [dbo].[Users] ADD CONSTRAINT [FK_dbo.Users_dbo.Branches_BranchID] FOREIGN KEY ([BranchID]) REFERENCES [dbo].[Branches] ([BranchID]) ON DELETE CASCADE
ALTER TABLE [dbo].[UserClaims] ADD CONSTRAINT [FK_dbo.UserClaims_dbo.Users_UserID] FOREIGN KEY ([UserID]) REFERENCES [dbo].[Users] ([UserID])
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201704211230252_InitialCreate', N'VideoUpload.EF.Migrations.Configuration',  0x1F8B0800000000000400DD5D4B6F1CB911BE07C87F68CC2909BC1A497BD918D22EE491B456B2B20C8FBCC8CDA0A6A95163FB31E9EE71A404F96539E427E52F84FD60F3DD7CF56364F86291CD8FC562B1C8226BAAFEF79FFF9EFDF49CC4C157981751969E2F4E8E8E17014C375918A5DBF3C5BE7CFCEE87C54F3FFEFE77675761F21CFC8ABFFBBEFA0EB54C8BF3C55359EEDE2E97C5E60926A0384AA24D9E15D96379B4C9922508B3E5E9F1F19F9727274B882016082B08CE3EEDD3324A60FD07FA7395A51BB82BF720BECD4218176D39AA59D7A8C10790C0620736F07CF16B14C2ECF32ECE40787475BD082EE208202AD6307E5C04204DB3129488C6B79F0BB82EF32CDDAE77A800C4F72F3B88BE7B0471015BDADF92CF4D87717C5A0D63491A62A8CDBE28B3C412F0E4FB962F4BBEB91377171DDF10E7AE1087CB976AD435F7CE17179B32FA8A8A1601DFD9DB559C571FB2CC5D65393CAA5122581CE1D66F02FE9B379D5820E9A9FEBD0956FBB8DCE7F03C85FB3207F19BE0E3FE218E367F852FF7D96F303D4FF7714C138BC845754C012AFA98673B98972F9FE02337849BCB45B064DB2F7980AEB9A46D33D89BB4FCFE74117C40C480871876B24131665DA201FE0C53988312861F4159C21C4DED4D086BEE0A54707D56FDE0DE9030A235B5086EC1F32F30DD964FE70BF4DF45701D3DC31097B4147C4E23B40451A332DF435D27BF82783F7E2F97B0D8E4D1AE91CD41FB3A5B1251ED15E08F59515E9425D83C2588FD6E62CC62CC2ACC2C292E222D222827E6E4F407A389111643BF545C4731ACFE37BAF8DDDEDC5E4DB29AAA11ADA37F429D92D0A37CCEE3D1A9AD24405068FD4D88C07CC8C6D71A486DAE7258294FDC5755741F25DAA6F74FFBE42105513C998C753D8E32731FC0D7685BEB29C91C2E824F30AE2B8BA768D79C666A5DF5854C57817ACDB3E45316B78DE8BA2FF720DF4284739F293E5867FB7CE3A37ADD15EEEC6AD655B94E7956F888E61F7E401208F30184CF525F0DBBBBDB768E06DEC8864C4B58825D8511E2FEBB9749545BD399AD664396493EC866DDDFCD7B505CEC7679F61574DAEC5D86740348AD997AD32291B1BA22553CE2B14CF986068416C90B0C6B6D32042512385362DEE520DD3CE91584E92EC0E879DFCD00EB7AE56680770B53EA9AD14A096BAABE545D3044D1E5C2EEC454CA76A63E62AAF52325A5AA100921A502195495D7F688D9E3B241366D67DD22892CDB6E92A6AB60B86DB2E9719CF3A052E2FE923D6C401ECA57662BCBE41B610DE02A615DF2F5B6CBB29575D755A920875D2B36ABB29796F6038196BA5C454B5329A3C57871B6DC755B9D6DE35997674B4365AED9AE4FAAE9D45703AB9ADB309FC4745B3D81A2888A092CDAE6983E7E3FB7C8EA05DBF13937F439467F523051948AF382A0484DA97A0F415C3EAD9EE0E6B74B5822135FAEA95AFC2FB2CF09B1EAAF042DD6F3A9974E9311E8A2DE449C59355D450E4D8CCB91448631D5E1E4FD668516DEF4BA764635BF469CDB17E32BF82C69CD9EC90E7DD4DA902A0BAA5EA330FABF14949DE6735BDDD79D7FC650783CED06BAD157E1796BBA79555CAB22ACD5DA4CAA65BC773FD9187FCEB3FDEE1B57267D0790C1740A7F103154414E6BB3B98F71599455CB595723BE8AB55D8D835DE15AAEC6AADF810C2AEB17CDBC28E7E9FA173057CF6837BB8FCA787C2BEC2A41E2FF02A7302CAF12B4E2A76765DDED2A4B1FA33CF17F46B8296A771EE88BF31114C53FB23C7C0F8AA7D11F64D670B3CF91EA4447E6A46F931BA6B79AE1D5F8A69FEBE9EF14FAEF1615B709ECC5A3FF9DABF6F981DF94252F1336B7ADAB1844490F29F4371C3DA44A4E1455EF7D34A871DCCF0775F3590F0935052EA784AEE154F70F758793B849D53D4DE37938D673B9E3FBA2D9AA92BE344A569DD3AAC257EB6E8B0AB79E774DB544B819C36CEBA90FE1D31C09873C706BCF25591A4EE46217E5D3F434A0D1D0DF11D2D621E5B255E9095CE4E09172F7F82ECACBEE2C6AEA8DB2CA921D485F2619303AB044935C075DC21DC8CBC6D7FB9518451AD7DB30CCE12007728D34D44785913BF904B7530841753C06B146D10F752DB84FCB7C7CCEAD917A6004CECC7A35BF2B8FD0EE983BFECEA76D3CEF1D794383D3EB1F693AD5A1FB13DC44BB68182DE5B063ACA99E9DBD66D7EC2636DAF63FBC69A25E15FB845A13784BBE29AE63B025BF037459220DD6702B040D0FE1C52F881DB4CCB29CBC85956738760E01D501B436BFD02957E03AF3ED354CE8AF4F45F6358CA20B2F8A22DB4435432835CCB89FB23D5EA561A0F34525E7A3E6D704B78837D10E7103CDDEF9E2F8E8481C480F6C6760B1B0F4EFC3D80EFE24A0238503F36A8D57FB4B5AA0098AD252D44E518AD6378835E3E3DA49F59AFCA708D52474BDF035E80C54495B5A6AF8E0D77DD70BA76D751C3A5B5292D22F409A972DD5BC9B3E731129605E8A591138E1D97476975EC2189630A8AE93AB1FEDAE40B10132931491E448A34452654F7BA348AB19FB4C8447FE6E6D25BB667CF223660249EEF19950498889C718918ECE616312E93571EE984172F52C331114A5EBAC95E0EA59E44DCB0472CBBB5FAA0442E9B44EA4003FC84C22A04ADF50ED8A194814150C319973D52F2BACC44FC100DFFEA713B9E64D4C33BFDC13D9BCC2C6FD5CA8FFE83AAC98317C985AC69871BF0201A39E5C55332A7B7F25F3D9BCF5589922B2DF934D2220E2484C6648EEE264251CE288FD3A9E4A30A8A7BADEC994BD86FB8B88EC3590456D5FC6C713167160534A8CC88083171BC69D44B34770BF5B9B77C3E21C5DFAA577D80D8BE1C3D41B1633EE83DBB09AAB49D406190B69772377B1DB5D3E5485F0591654030DA9BD842CDA0B4F7EEE2BD0352C315C13D82A82C8142377A1EDF493A05F82B2E250E89F960B30FCD59A06AC758292C2681B3733241D0D5E591A04F20B3301A1B3143410323B5700937D648EAB41D442B53E6F0246B3E20D1A632F162942BB376960B023860C8578A9E87852BFD9C8E5B77BCBE230A805C78A1D1B2381FA4C154781D7020657D9DD003A49177489C1CD3585C2D0CC2B7F76A8066CD0FD8840648ACDE5ACCBF52C35547601F4F0CDF056550EAD5A8EF6CCECFB8594C848D3BB41DBDB416A9444B9F530CFE0526F6CC609BFF615B9D57B23657427450D826C1B3D7C51DD2519F0D79D05AD8E508E5F62BFEA2F481C47CEDAAD3A45E63066DA095A1CB1CA5ED759EC14A1EDB6D7335489813ED640E96D54315A95116A6486DA8F5B6275722098DEA1C4BB254C29DE12634A6F4E398A376B06E9B8D73366EC56D09DDDBBBAB3651393B82D385B2A82179FDD82DD2E4AB75430E3B6245837918C57DFADEDC3FC260DC672C3B094B734BA9ED0E1096C21575BB93A85B07630BD042578009527C42A4C84CF184B457188C35D09C6883859F86C879B54FF6F9AB1419D89D5225A746DDB6B34ACEABC548F10D2472965D3A08A260D6290F35E795460E05516EF93542CE7254F8DD6B8B8D0384D893942EB554F43B445E618CCAF766924A642C43B5B72FC156C64611685AB0A562ECCA4A6F73C6E2C369C956A2F3C3A0015BBC540BC34CF75817EFB9049F0531A91949A239108BA341229B5A3A90991CBD3D494DA21D5C15679A0BAD01C077BB6F05CB7E3351B199751054C8DC532A4C3DF32CB90AEB0502E624C5C46D388D50ED8C284B03507A33454C7482B75E1A824EC5483BF6832C1611928BA62FCFDA14FD04908575ED2498D392289E34AA391523BDA70A0569E325C6E8E869F276824D593851A8589CD4A433115E6787480561A8E2EB7E3981C8FADB11A2F136B951B32536747A71256A834C7256F0434A0FAE5603615D899461E5AB0BD53B7D783AA86C371B51F49DCFFE8F28399A39EDB2DE339C2AF16F693A46CA9E22DE5A546B3B6C7794D8DC58680A4E1D81A0B4412E7918123C5B67B6A26DB4FAD70BA488DCCB91A177E835AC7E872DB58B6F56806626E02A2DC9B24010399FD491B94B017BD7555661015EECB6A942157258ED84703E1328B95D8C5D0621662577A88D23A949CFA09A885640E223B439FF5BB286D2C596DE1372841AA0B6C63D1A95FE4ED6546DE6C5CC3840418E3716CB76A2A7E017BBBD3159B63911FF3D350A4D44A91B6E11B383DDA965A18A854C82EC644A5CA6DD0EADF03B3407591250615624B00A3EAAC4CCB36D4166758B6A516072E26D81673EA626A2CB63236A216B3A3B155965C6CE266090C6C8ABFC1235DEF23A5959E6BFC86DC949DA2AD7203C1E19598FD431EAC498B235E8D53C5965892171CBA7CACCBA6996487F88079884EE72C662F39EAA63ABB543C5DF58525EA4394EC29D61BCA901B261DD287D38A5DB9CDD34017B5877D17E88AE7D8CAF14FFA691C5C667787D805DDE1EF0FBB0AAB532D89C4C31D6C4985D5D356241EDD49A98D1D40C2E9B06600299FF6C0D2C5C361DEDA70A105CF6B076786D91297E73E041CCC86C6C06576CF9038560DFFDE83CB6D24A90D47C34A515B68A30BBA7033AC2AE88A0F662B219EC03E867AEB32EC60A4AB5A2A4D61126D86318655F16BFAB0A83032AC1476C5764A6D2D2EF4AED44E787825BBB656B2E64E31A30A9EE0D4C57FD2F5DE96747F774E5DAD43953E4DBDE061D57CB208106BBE2281CD111F5F8A122647D50747EBBFC7ABB89966FCC12D48A34758944DA498C5E9F1C92997EDFE7032CF2F8B2264423DF5A49F67E76B86BCEF51C5656DD027DBA0905468A3F42BC8374F20FF43029EFF482359A773F74292A46EB0C0734DCBEE30BDE36542C7E315C3827A263AF79A183E99B917189FB0BC966EBF74E55EF4B079936B6A849FB8DDA00DE4F97CF1AFBAC9DBE0E66F5F9A566F82BB1C69BEB7C171F06FDB7E6579CDFD968F98BB3C447F945C7C35ABCCE2838A912C5FF9580B7CBECCDBA3686B49B26D25E75CD3E478024A9262CBC4CF2929B6F7BA60135FBB2E0B36B237D1D506FAA269CAEA0BB58A774C97FD10D9AB523155B60B8A2C4DB62B97E569B35DA99240B912C6A78930DD2B703BD56EE1133B55E6D4347512E551349E9837798CAD42EA6E347D96DBC18E7DB224B65ECA534854EB77D66293D1FA1D4AD984B35E5887B8B2B5E1FA0E2043E9282B9FCD1C68B5CB364D4D7759B754A5560475AD07A589CD61EAB7BEB9D482632859A52FD19419280753B17EB7143232992492073F9BA297CF94A90B079B463E33A19FF523243FF183E39381F8A1F15901BD444CCCFCE70947E515F01BA63C639FA34DC464EB73C19065EA33115EE7C47C43810B79F8FC66E5108F560ADF9D69B3AB8D72761212AAF96D2742D2342FB819AF4FEC5395B948C6E039C206DBED86D3FFE63B9D5B2A2FCF1B662E5D97179AF12E6C9F76CBE5D143926ECBF5264B927ECBF70D251AEC402CA6D19AE084E1900ECB4FB546E530B7DB6C5A2BEF9730367595A731C2A4A7F2D4135C0A2AFD91CC3AFD948B693A60E2A751CE0342AE27FF471E3A7F93F3030F9BBFC94FE7BB9D7654E2E1994A6888BC4174E0520E6D92744153E606EA0D7F63D3EBAB48097438897FBAB889728226CBF233432E1FF5AF766D7A3EE8C43D33A6E7391419538720B078CA9B42C45E579A9DF902C75B88F6A0F1E2A70B116F23B2AF2751CE7C1263741E7BA5B2627C4E7B1D096F7C13984C39D58A5FC79BBE788D33CDAF2679CD10A96ADA58FF1CD0D8D969A6CC45A3FA55F2814DBC45FA99F9B60123A97BA5DB80B15C1E401A193186333F636C9A0D920A86DCD40859629A5F299D2FC287EA3DBAB9ECA113CC087A84ED83BF53117AE23F90F6D7930D43D6A132D18C0C5C1EFE9D87C50B4A00C615326855A072557E9ABEF434327C6566021EDF39798DAC57BF2437BA1C379A1EF57D35CA47E8A42996A1CB23C1CB60DB0D508ADDD6A93A50C4D8E77B212972844E4895AC0F2AEF8E6E2E70021D711E708D740E484E1EAE83A932EF08491B24AA567DCFCBB5EDC95DF55AF2EBA832B6F4B245AD09BE858C39B2BC2D07C78E11F2E048D263F40EDB825D7367B9B11D9A91A6982F8D8D908364BEC10C99AAC66E58C25ECA057C1A4C0487C944632B82460C1926D58C187D005915FBB47A326EFEBA8445B42510670833851BC69EE8BEB9491F336CD87014E14FF89F8820A5182263E3222FA347B02951F5061645946E1741EDD65679873CC0F026BDDB97BB7D89860C93879889565299477DFDD7F974589ACFEE6AEFF06288212032A3EA95FD2E7DB78FE2B0A3FB5AE2F0A080A8ECAED6A5A09ACBB2722DD8BE74481FB2D410A8655F672EDEC36457FDA0A7B84BD7A0F296B5A70D89DE2F700B362F3888841A443F112CDBCF2E23B0CD4152B418A43DFA13C970983CFFF87F38E0B4F951C20000 , N'6.1.3-40302')

